@startuml
title:图书查询流程图
|游客/读者|
start
	:输入查询条件;
	|系统|
if(图书信息不存在?) then (存在)
	:返回图书信息;
else 
	:返回图书不存在;
endif
:返回信息;
|游客/读者|
:查看返回结果;
stop
@enduml

@startuml
title:账户设置流程图
|读者/图书管理员/超级管理员|
start
	:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (是)
	:进入个人信息;
    |读者/图书管理员/超级管理员|
	:修改个人信息;
	:保存更新信息;
else(否)
    |系统|
	:账号错误;
	:返回登录界面;
	end
endif
:修改信息成功;
|读者/图书管理员/超级管理员|
:查看更新信息结果;
stop
@enduml

@startuml 
title:借书用例流程图
|超级管理员/图书管理员|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (否)
|系统|
:账号错误;
:返回登录界面;
end
else(是)
:查询图书;
|系统|
if (书籍库存>=1?) then(否)
:库存不足;
|超级管理员/图书管理员|
:返回上级菜单;
end
else(是)
endif
|系统|
:相关书籍库存-1;
|超级管理员/图书管理员|
:显示借阅信息;
stop
@enduml



@startuml
title:还书用例流程图
|超级管理员/图书管理员|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (是)
|超级管理员/图书管理员|
repeat
	:输入归还账号;
	|系统|
	:判断账号合法性;
repeat while (输入合法?)
    |系统|
    if (账号是否借阅该书) then (是)
	    if(书籍是否破损或丢失) then (是)
	      :[登记赔偿];
		  detach
		  else(否)
		  :归还图书;
        endif
	        if(书籍是否逾期归还) then (是)
	          :[登记赔偿];
			  detach
	          else(否)
	          :归还图书;
			  :修改库存;
              |超级管理员/图书管理员|
              :查看结果;
              stop
		    endif
    else (未借阅)
	 |系统|
     :返回用户未借，中止还书;
	 detach
     endif
else(否)
|系统|
:账号错误;
:返回登录界面;
end
endif
@enduml


@startuml
title:预定图书用例流程图
|读者|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (否)
|系统|
:账号错误;
:返回登录界面;
end
else(是)
if(库存不足?) then (不足)
	:库存不足，中止预订;
	detach
else
	:库存减一;
:返回预订信息;
|读者|
:预订成功;
stop
@enduml

@startuml
title:取消预定用例流程图
|读者|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (是)
:库存加一;
:返回取消预订信息;
|读者|
:取消预订成功;
stop
else(否)
|系统|
:账号错误;
:返回登录界面;
end
@enduml

@startuml
title:查询借阅用例流程图
|读者|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (是)
:返回借阅信息;
|读者|
:查看借阅信息;
stop
else(否)
|系统|
:账号错误;
:返回登录界面;
end
@enduml

@startuml
title:登记赔偿用例流程图
|图书管理员/超级管理员|
start
:输入账号;
|系统|
:判断账号合法性;
if(账号合法?) then (是)
|图书管理员/超级管理员|
:查询读者借阅信息;
   |系统|
   fork
   :书籍逾期;
   :赔偿=逾期时间*1;
   fork again
   :书籍毁坏;
   :原价赔偿书本;
   fork end
   |图书管理员/超级管理员|
   :返回赔偿结果;
   |读者|
   :进行赔偿;
   |系统|
   :消除借阅违规记录;
   stop
else(否)
|系统|
:账号错误;
:返回登录界面;
end
@enduml

@startuml
title:维护图书管理员信息流程图
|超级管理员|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (是)
|超级管理员|
:选择维护图书管理员操作;
|系统|
:执行操作;
:返回结果;
|超级管理员|
:查看结果;
stop
else(否)
|系统|
:账号错误;
:返回登录界面;
end
@enduml

@startuml
title:维护书目用例流程图
|超级管理员/图书管理员|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (是)
|超级管理员/图书管理员|
:选择维护书目操作;
|系统|
:执行操作;
:返回结果;
|超级管理员/图书管理员|
:查看结果;
stop
else(否)
|系统|
:账号错误;
:返回登录界面;
end
@enduml

@startuml
title:维护读者信息流程图
|超级管理员/图书管理员|
start
:输入账号;
	|系统|
    :判断账号合法性;
if(账号合法?) then (是)
|超级管理员/图书管理员|
:选择维护读者信息操作;
|系统|
:执行操作;
:返回结果;
|超级管理员/图书管理员|
:查看结果;
stop
else(否)
|系统|
:账号错误;
:返回登录界面;
end
@enduml
